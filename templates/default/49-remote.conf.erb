# Autogenerated by Chef for <%= node[:fqdn] %>
$ActionQueueType LinkedList # use asynchronous processing
$ActionQueueFileName srvrfwd # set file name, also enables disk mode
$ActionResumeRetryCount -1 # infinite retries on insert failure
$ActionQueueSaveOnShutdown on # save in-memory data if rsyslog shuts down
<% @servers.each do |server| -%>
<% case node[:rackspace_rsyslog][:protocol] -%>
<% when "tcp" -%>
<%= node[:rackspace_rsyslog][:logs_to_forward] %> @@<%= server %>:<%= node[:rackspace_rsyslog][:port] %>
<% when "udp" -%>
<%= node[:rackspace_rsyslog][:logs_to_forward] %> @<%= server %>:<%= node[:rackspace_rsyslog][:port] %>
<% end -%>
<% end -%>
